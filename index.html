<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Vision Board</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<style>
  .resize-handle {
  position: absolute;
  bottom: -10px;
  right: -10px;
  width: 22px;
  height: 22px;
  background: #8b9dfc;
  border-radius: 50%;
  cursor: se-resize;
  box-shadow: 0 6px 14px rgba(0,0,0,0.25);
}

.resize-handle:hover {
  background: #6366f1;
}

  .delete-btn {
  position: absolute;
  top: -10px;
  right: -10px;
  background: #ff5f7a;
  color: white;
  border: none;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  font-size: 14px;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 8px 18px rgba(0,0,0,0.25);
}

.delete-btn:hover {
  background: #e11d48;
}

  body {
    margin: 0;
    font-family: "Poppins", sans-serif;
    background: #faf6f2;
  }

  header {
    text-align: center;
    padding: 30px 20px 10px;
  }

  header h1 {
    font-family: "Playfair Display", serif;
    font-size: 2.4rem;
  }

  header p {
    color: #777;
  }

  .controls {
    max-width: 1100px;
    margin: auto;
    display: flex;
    gap: 10px;
    justify-content: center;
    flex-wrap: wrap;
    padding: 20px;
  }

  .controls input,
  .controls button {
    padding: 12px 14px;
    border-radius: 16px;
    border: none;
    font-size: 14px;
  }

  .controls input {
    width: 220px;
    box-shadow: 0 6px 14px rgba(0,0,0,0.08);
  }

  .controls button {
    background: linear-gradient(135deg, #f6a6c1, #fbc2a4);
    color: white;
    font-weight: 600;
    cursor: pointer;
  }

  .download-section {
    text-align: center;
    margin-bottom: 20px;
  }

  .download-section button {
    background: linear-gradient(135deg, #8b9dfc, #b6bdfc);
    padding: 14px 26px;
    border-radius: 22px;
    border: none;
    color: white;
    font-weight: bold;
    cursor: pointer;
  }

  #board {
    max-width: 1100px;
    margin: auto;
    min-height: 650px;
    position: relative;
    padding: 40px;
    border-radius: 32px;
    background:
      linear-gradient(135deg, rgba(255,200,200,0.4), transparent 40%),
      linear-gradient(225deg, rgba(200,220,255,0.4), transparent 40%),
      repeating-linear-gradient(
        0deg,
        rgba(0,0,0,0.04),
        rgba(0,0,0,0.04) 1px,
        transparent 1px,
        transparent 40px
      ),
      repeating-linear-gradient(
        90deg,
        rgba(0,0,0,0.04),
        rgba(0,0,0,0.04) 1px,
        transparent 1px,
        transparent 40px
      ),
      #fff;
  }

  .item {
    position: absolute;
    cursor: grab;
    z-index: 10;
  }

  .item img {
    width: 190px;
    border-radius: 24px;
    box-shadow: 0 18px 40px rgba(0,0,0,0.22);
    display: block;
  }

  .text-item {
    background: #fff;
    padding: 16px 20px;
    border-radius: 24px;
    font-family: "Playfair Display", serif;
    max-width: 230px;
    box-shadow: 0 16px 36px rgba(0,0,0,0.18);
  }
</style>
</head>

<body>

<header>
  <h1>My Vision Board</h1>
  <p>Ideas • Dreams • Art ✨</p>
</header>

<div class="controls">
  <input type="text" id="imageUrl" placeholder="Paste image URL">
  <button onclick="addImage()">Add Image</button>

  <input type="file" accept="image/*" onchange="uploadImage(event)">

  <input type="text" id="textGoal" placeholder="Affirmation or dream">
  <button onclick="addText()">Add Text</button>
</div>

<div class="download-section">
  <button onclick="downloadBoard()">⬇ Download Vision Board</button>
</div>

<div id="board"></div>

<script>
  const board = document.getElementById("board");

  function addImage() {
    const url = document.getElementById("imageUrl").value.trim();
    if (!url) return;

    const img = new Image();
    img.src = url;
    img.onload = () => placeImage(img.src);
    img.onerror = () => alert("Image blocked. Upload instead.");

    document.getElementById("imageUrl").value = "";
  }
  function addResize(div, img) {
  const handle = document.createElement("div");
  handle.className = "resize-handle";
  div.appendChild(handle);

  let startX, startWidth;

  handle.onmousedown = e => {
    e.stopPropagation();
    startX = e.clientX;
    startWidth = img.offsetWidth;

    document.onmousemove = e => {
      const newWidth = startWidth + (e.clientX - startX);
      if (newWidth > 100) {
        img.style.width = newWidth + "px";
      }
    };

    document.onmouseup = () => {
      document.onmousemove = null;
      document.onmouseup = null;
      saveBoard();
    };
  };
}


  function uploadImage(event) {
    const file = event.target.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = e => placeImage(e.target.result);
    reader.readAsDataURL(file);
  }

  function placeImage(src) {
  const div = document.createElement("div");
  div.className = "item";
  div.style.top = "120px";
  div.style.left = "120px";

  const img = document.createElement("img");
  img.src = src;
  img.style.width = "190px";

  div.appendChild(img);
  addDeleteButton(div);
  addResize(div, img);
  makeDraggable(div);
  board.appendChild(div);
  saveBoard();
}



  function addText() {
  const text = document.getElementById("textGoal").value.trim();
  if (!text) return;

  const div = document.createElement("div");
  div.className = "item text-item";
  div.innerText = text;
  div.style.top = "200px";
  div.style.left = "200px";

  addDeleteButton(div);
  makeDraggable(div);
  board.appendChild(div);
  saveBoard();

  document.getElementById("textGoal").value = "";
}


  function makeDraggable(el) {
    let offsetX = 0, offsetY = 0;

    el.onmousedown = e => {
      offsetX = e.clientX - el.offsetLeft;
      offsetY = e.clientY - el.offsetTop;

      document.onmousemove = e => {
        el.style.left = e.clientX - offsetX + "px";
        el.style.top = e.clientY - offsetY + "px";
      };

      document.onmouseup = () => {
        document.onmousemove = null;
        document.onmouseup = null;
        saveBoard();
      };
    };
  }
function loadBoard() {
  const data = localStorage.getItem("visionBoard");
  if (data) {
    board.innerHTML = data;
    document.querySelectorAll(".item").forEach(item => {
      makeDraggable(item);
      addDeleteButton(item);
      const img = item.querySelector("img");
      if (img) addResize(item, img);
    });
  }
}

  function addDeleteButton(div) {
  const btn = document.createElement("button");
  btn.innerHTML = "✕";
  btn.className = "delete-btn";

  btn.onclick = (e) => {
    e.stopPropagation();
    div.remove();
    saveBoard();
  };

  div.appendChild(btn);
}

  function saveBoard() {
    localStorage.setItem("visionBoard", board.innerHTML);
  }

  function loadBoard() {
    const data = localStorage.getItem("visionBoard");
    if (data) {
      board.innerHTML = data;
      document.querySelectorAll(".item").forEach(item => {
  makeDraggable(item);
  addDeleteButton(item);
});
    }
  }

  loadBoard();
</script>

</body>
</html>
