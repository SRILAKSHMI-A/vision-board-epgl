<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Vision Board</title>

<!-- html2canvas for download -->
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<style>
body {
  margin: 0;
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(135deg, #fdeff9, #ec38bc, #7303c0);
  min-height: 100vh;
}

header {
  text-align: center;
  padding: 20px;
  color: white;
}

header h1 {
  margin-bottom: 10px;
}

.controls {
  display: flex;
  justify-content: center;
  gap: 10px;
  flex-wrap: wrap;
  margin-bottom: 20px;
}

.controls input[type="text"] {
  padding: 10px;
  border-radius: 8px;
  border: none;
  width: 220px;
}

.controls button, .controls input[type="file"] {
  padding: 10px 14px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  background: #fff;
  font-weight: 600;
}

.controls button:hover {
  background: #ffe6f2;
}

/* BOARD */
#board-wrapper {
  display: flex;
  justify-content: center;
}

#board {
  width: 90%;
  max-width: 1100px;
  background: #fff;
  padding: 20px;
  border-radius: 20px;
  column-count: 4;
  column-gap: 16px;
}

/* ITEMS */
.item {
  background: #fdf2f8;
  margin-bottom: 16px;
  border-radius: 14px;
  overflow: hidden;
  position: relative;
  cursor: grab;
  break-inside: avoid;
  box-shadow: 0 10px 20px rgba(0,0,0,0.15);
}

.item img {
  width: 100%;
  display: block;
}

.item p {
  padding: 14px;
  font-size: 15px;
  color: #333;
  font-weight: 500;
}

/* DELETE BUTTON */
.delete-btn {
  position: absolute;
  top: 6px;
  right: 6px;
  background: rgba(0,0,0,0.6);
  color: white;
  border: none;
  border-radius: 50%;
  width: 26px;
  height: 26px;
  cursor: pointer;
  font-size: 14px;
}

.delete-btn:hover {
  background: red;
}

/* RESPONSIVE */
@media (max-width: 900px) {
  #board { column-count: 3; }
}
@media (max-width: 600px) {
  #board { column-count: 2; }
}
</style>
</head>

<body>

<header>
  <h1>ðŸŒ¸ My Vision Board</h1>
  <p>Dream it. Place it. Manifest it.</p>

  <div class="controls">
    <input type="text" id="textInput" placeholder="Enter affirmation or goal">
    <button onclick="addText()">Add Text</button>

    <input type="file" id="imageInput" accept="image/*">
    <button onclick="downloadBoard()">Download</button>
  </div>
</header>

<div id="board-wrapper">
  <div id="board"></div>
</div>

<script>
const board = document.getElementById("board");

/* ADD TEXT */
function addText() {
  const text = document.getElementById("textInput").value.trim();
  if (!text) return;

  const item = createItem();
  const p = document.createElement("p");
  p.textContent = text;

  item.appendChild(p);
  board.appendChild(item);

  document.getElementById("textInput").value = "";
}

/* ADD IMAGE */
document.getElementById("imageInput").addEventListener("change", function(e) {
  const file = e.target.files[0];
  if (!file) return;

  const reader = new FileReader();
  reader.onload = function() {
    const item = createItem();
    const img = document.createElement("img");
    img.src = reader.result;
    item.appendChild(img);
    board.appendChild(item);
  };
  reader.readAsDataURL(file);
});

/* CREATE ITEM */
function createItem() {
  const item = document.createElement("div");
  item.className = "item";
  item.draggable = true;

  const del = document.createElement("button");
  del.innerHTML = "âœ•";
  del.className = "delete-btn";
  del.onclick = () => item.remove();

  item.appendChild(del);

  addDrag(item);
  return item;
}

/* DRAG & DROP */
let dragged = null;

function addDrag(el) {
  el.addEventListener("dragstart", () => dragged = el);
  el.addEventListener("dragover", e => e.preventDefault());
  el.addEventListener("drop", () => {
    if (dragged && dragged !== el) {
      board.insertBefore(dragged, el);
    }
  });
}

/* DOWNLOAD */
function downloadBoard() {
  html2canvas(board).then(canvas => {
    const link = document.createElement("a");
    link.download = "vision-board.png";
    link.href = canvas.toDataURL();
    link.click();
  });
}
</script>

</body>
</html>
